<!DOCTYPE html>

<html lang="ja">
<head>
	<meta charset="UTF-8">
	<meta content="width=device-width, initial-scale=1.0" name="viewport">

	<title>æ•°å­—å½“ã¦ã‚²ãƒ¼ãƒ </title><!-- Tailwind CSS CDNã‚’èª­ã¿è¾¼ã¿ -->

	<script src="https://cdn.tailwindcss.com">
	</script>
	<style>
	       /* ã‚°ãƒ­ãƒ¼ãƒãƒ«ãªãƒ•ã‚©ãƒ³ãƒˆè¨­å®šã¨èƒŒæ™¯è‰² */
	       body {
	           font-family: 'Inter', sans-serif;
	           background-color: #1a1a2e; /* ãƒ€ãƒ¼ã‚¯ãƒã‚¤ãƒ“ãƒ¼ã®èƒŒæ™¯ */
	           color: #e0e0e0; /* æ˜ã‚‹ã„ãƒ†ã‚­ã‚¹ãƒˆ */
	           display: flex;
	           justify-content: center;
	           align-items: center;
	           min-height: 100vh;
	           padding: 20px;
	       }
	       /* ãƒœã‚¿ãƒ³ã®ãƒ›ãƒãƒ¼ã‚¨ãƒ•ã‚§ã‚¯ãƒˆ */
	       .btn-primary:hover {
	           opacity: 0.9;
	           transform: translateY(-1px);
	       }
	       /* ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚¨ãƒªã‚¢ã®ã‚¹ã‚¿ã‚¤ãƒ« */
	       #messageArea {
	           min-height: 4.5rem; /* ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å®‰å®šã•ã›ã‚‹ãŸã‚ã®æœ€å°é«˜ã• */
	           line-height: 1.5;
	       }
	       /* ç§˜å¯†ã®æ•°å­—å…¥åŠ›ã‚¨ãƒªã‚¢ã‚’ä¸­å¤®ã«é…ç½® */
	       #secretSetterArea input {
	           text-align: center;
	       }

	       /* å‹åˆ©æ™‚ã®æ´¾æ‰‹ãªã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’è¿½åŠ  */
	       @keyframes pulse-once {
	           0% { transform: scale(1); opacity: 1; }
	           50% { transform: scale(1.1); opacity: 0.8; }
	           100% { transform: scale(1); opacity: 1; }
	       }
	       /* å‹åˆ©åˆ¤å®šæ™‚ã«ä½¿ç”¨ã™ã‚‹ã‚¯ãƒ©ã‚¹ */
	       .animate-win {
	           animation: pulse-once 1.5s ease-in-out 3; /* 3å›ç‚¹æ»…ã•ã›ã‚‹ */
	       }
	</style>
	<script>
	       // ã‚²ãƒ¼ãƒ å¤‰æ•°
	       let targetNumber; // æ­£è§£ã®æ•°å­—
	       let guessCount = 1;
	       let gameMode = null; // 'cpu' ã¾ãŸã¯ 'friend'

	       let totalRounds = 0;
	       let currentRound = 0;
	       
	       let numPlayers = 2; // ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼äººæ•° (å‹é”ãƒ¢ãƒ¼ãƒ‰ã§ã®ã¿ä½¿ç”¨)
	       let playerScores = []; // ã‚¹ã‚³ã‚¢ã¯é…åˆ—ã§ç®¡ç† (å‹é”ãƒ¢ãƒ¼ãƒ‰:äººæ•°åˆ†, CPUãƒ¢ãƒ¼ãƒ‰: [P1, CPU])
	       let playerNames = []; // ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼åã‚‚é…åˆ—ã§ç®¡ç†
	       
	       // å‹é”ãƒ¢ãƒ¼ãƒ‰: ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ (0, 1, 2, ...), CPUãƒ¢ãƒ¼ãƒ‰: ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹(0) ã¾ãŸã¯ 'CPU'
	       let setterPlayer; 
	       let guesserPlayer; 
	       
	       let cpuLevel = 'Pro'; // CPUã®é›£æ˜“åº¦: 'Easy', 'Normal', 'Pro'

	       // CPUã®äºˆæƒ³ç”¨ãƒ‡ãƒ¼ã‚¿ (äºŒåˆ†æ¢ç´¢ç”¨)
	       let cpuGuessData = {
	           low: 1,
	           high: 100,
	           history: []
	       };

	       // DOMè¦ç´ ã¸ã®å‚ç…§
	       let modeSelectionArea;
	       let mainGameArea;
	       let roundSetterArea; // ãƒ©ã‚¦ãƒ³ãƒ‰æ•°è¨­å®šã‚¨ãƒªã‚¢
	       let scoreDisplay; // ã‚¹ã‚³ã‚¢è¡¨ç¤ºã‚¨ãƒªã‚¢
	       let guessesElement, lastResultElement, lowOrHiElement, guessSubmitButton, guessField, resetArea;
	       let secretSetterArea, secretField, setSecretButton, guessInputArea, gameTitleElement;
	       let roundSelect, numPlayersSelect, cpuLevelSelection, cpuLevelSelect;
	       let friendNameInputContainer; // å‹é”ãƒ¢ãƒ¼ãƒ‰ã®åå‰å…¥åŠ›ã‚³ãƒ³ãƒ†ãƒŠ
	       let finalResultArea, finalResultTitle, finalResultMessage, finalScoreDetails, finalResetButton;

	       // ã™ã¹ã¦ã®DOMè¦ç´ ã‚’å–å¾—ã—ã€ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼ã‚’è¨­å®š
	       window.onload = function() {
	           // ã‚²ãƒ¼ãƒ ãƒ­ã‚¸ãƒƒã‚¯è¦ç´ 
	           guessesElement = document.getElementById('guesses');
	           lastResultElement = document.getElementById('lastResult');
	           lowOrHiElement = document.getElementById('lowOrHi');
	           guessSubmitButton = document.getElementById('guessSubmit');
	           guessField = document.getElementById('guessField');
	           resetArea = document.getElementById('resetArea');
	           guessInputArea = document.getElementById('guessInputArea');
	           gameTitleElement = document.getElementById('gameTitle');
	           scoreDisplay = document.getElementById('scoreDisplay');

	           // ãƒ¢ãƒ¼ãƒ‰/ãƒ©ã‚¦ãƒ³ãƒ‰é¸æŠè¦ç´ 
	           modeSelectionArea = document.getElementById('modeSelectionArea');
	           mainGameArea = document.getElementById('mainGameArea');
	           roundSetterArea = document.getElementById('roundSetterArea');
	           roundSelect = document.getElementById('roundSelect');
	           numPlayersSelect = document.getElementById('numPlayersSelect'); // æ–°ã—ã„äººæ•°é¸æŠ
	           secretSetterArea = document.getElementById('secretSetterArea');
	           secretField = document.getElementById('secretField');
	           setSecretButton = document.getElementById('setSecretButton');
	           
	           // CPUãƒ¬ãƒ™ãƒ«è¦ç´ ã®å–å¾—
	           cpuLevelSelection = document.getElementById('cpuLevelSelection');
	           cpuLevelSelect = document.getElementById('cpuLevelSelect');
	           
	           // ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼åå…¥åŠ›è¦ç´ ã®å–å¾— (æ–°è¨­)
	           friendNameInputContainer = document.getElementById('friendNameInputContainer');
	           
	           // ãƒªã‚¶ãƒ«ãƒˆç”»é¢è¦ç´ ã®å–å¾—
	           finalResultArea = document.getElementById('finalResultArea');
	           finalResultTitle = document.getElementById('finalResultTitle');
	           finalResultMessage = document.getElementById('finalResultMessage');
	           finalScoreDetails = document.getElementById('finalScoreDetails');
	           finalResetButton = document.getElementById('finalResetButton');


	           // --- ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼è¨­å®š ---
	           document.getElementById('cpuModeButton').addEventListener('click', () => showRoundSelection('cpu'));
	           document.getElementById('friendModeButton').addEventListener('click', () => showRoundSelection('friend'));
	           document.getElementById('startFriendGameButton').addEventListener('click', setRounds);
	           guessSubmitButton.addEventListener('click', checkGuess);
	           setSecretButton.addEventListener('click', setSecretNumber);
	           finalResetButton.addEventListener('click', showModeSelection);
	           
	           // äººæ•°é¸æŠãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³ãŒå¤‰æ›´ã•ã‚ŒãŸã‚‰ã€åå‰å…¥åŠ›ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’æ›´æ–°
	           numPlayersSelect.addEventListener('change', (e) => generateNameFields(e.target.value));

	           // --- Enterã‚­ãƒ¼ã§ã®é€ä¿¡ã‚’æœ‰åŠ¹åŒ– ---
	           guessField.addEventListener('keypress', function(e) {
	               if (e.key === 'Enter') {
	                   guessSubmitButton.click();
	                   e.preventDefault(); 
	               }
	           });
	           secretField.addEventListener('keypress', function(e) {
	               if (e.key === 'Enter') {
	                   setSecretButton.click();
	                   e.preventDefault(); 
	               }
	           });

	           showModeSelection();
	       };

	       // ãƒ¢ãƒ¼ãƒ‰é¸æŠç”»é¢ã‚’è¡¨ç¤º
	       function showModeSelection() {
	           gameMode = null;
	           totalRounds = 0;
	           currentRound = 0;
	           playerNames = [];
	           playerScores = [];
	           
	           // ã™ã¹ã¦ã®ã‚²ãƒ¼ãƒ ç”»é¢ã‚’éè¡¨ç¤º
	           mainGameArea.classList.add('hidden');
	           roundSetterArea.classList.add('hidden');
	           finalResultArea.classList.add('hidden');
	           
	           // ãƒ¢ãƒ¼ãƒ‰é¸æŠç”»é¢ã‚’è¡¨ç¤º
	           modeSelectionArea.classList.remove('hidden');
	           document.querySelector('.game-card').classList.add('max-w-md');
	           
	           // ã‚¿ã‚¤ãƒˆãƒ«ç”»é¢ã®ã‚¹ã‚¿ã‚¤ãƒ«ã«æˆ»ã™
	           gameTitleElement.textContent = 'ğŸ”® æ•°å­—å½“ã¦ã‚²ãƒ¼ãƒ ';
	           gameTitleElement.className = 'text-5xl font-extrabold text-yellow-300 mb-2 text-center transform scale-105';
	           document.getElementById('gameTagline').classList.remove('hidden');
	       }

	       // ãƒ©ã‚¦ãƒ³ãƒ‰æ•°é¸æŠç”»é¢ã‚’è¡¨ç¤º
	       function showRoundSelection(mode) {
	           gameMode = mode;
	           modeSelectionArea.classList.add('hidden');
	           roundSetterArea.classList.remove('hidden');
	           document.querySelector('.game-card').classList.add('max-w-md'); 
	           
	           // ã‚¿ã‚¤ãƒˆãƒ«ã‚’ãƒ¢ãƒ¼ãƒ‰è¨­å®šç”¨ã«å¤‰æ›´
	           gameTitleElement.className = 'text-3xl font-extrabold text-white mb-4 text-center';
	           document.getElementById('gameTagline').classList.add('hidden');

	           if (mode === 'friend') {
	               gameTitleElement.textContent = 'ğŸ¤ å¯¾æˆ¦ãƒ¢ãƒ¼ãƒ‰è¨­å®š (å¤šäººæ•°å¯¾å¿œ)';
	               cpuLevelSelection.classList.add('hidden');
	               document.getElementById('friendPlayerSettings').classList.remove('hidden'); // äººæ•°è¨­å®šã‚’è¡¨ç¤º
	               generateNameFields(numPlayersSelect.value); // åˆæœŸäººæ•°ã§åå‰ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’ç”Ÿæˆ
	           } else {
	               gameTitleElement.textContent = 'ğŸ¤– CPUå¯¾æˆ¦è¨­å®š';
	               cpuLevelSelection.classList.remove('hidden');
	               document.getElementById('friendPlayerSettings').classList.add('hidden'); // äººæ•°è¨­å®šã‚’éè¡¨ç¤º
	           }
	       }
	       
	       // äººæ•°ã«å¿œã˜ã¦åå‰å…¥åŠ›ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’å‹•çš„ã«ç”Ÿæˆ
	       function generateNameFields(count) {
	           const container = document.getElementById('friendNameInputContainer');
	           container.innerHTML = ''; // ã‚¯ãƒªã‚¢
	           numPlayers = Number(count);
	           
	           for (let i = 0; i < numPlayers; i++) {
	               const inputHtml = `
	                   <input type="text" id="p${i}NameField" placeholder="ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼${i + 1}ã®åå‰" 
	                          value="P${i + 1}" 
	                          class="p-3 w-full text-lg text-white bg-[#303450] border-2 border-pink-600 rounded-xl focus:border-pink-500 shadow-inner">
	               `;
	               container.innerHTML += inputHtml;
	           }
	       }

	       // ãƒ©ã‚¦ãƒ³ãƒ‰æ•°ã‚’è¨­å®šã—ã¦ã‚²ãƒ¼ãƒ ã‚’é–‹å§‹
	       function setRounds() {
	           totalRounds = Number(roundSelect.value);
	           
	           if (totalRounds <= 0) {
	                alertMessage('ãƒ©ã‚¦ãƒ³ãƒ‰æ•°ã‚’é¸æŠã—ã¦ãã ã•ã„ã€‚');
	               return;
	           }

	           // 1. åå‰ã¨ã‚¹ã‚³ã‚¢ã®åˆæœŸåŒ–
	           if (gameMode === 'friend') {
	               numPlayers = Number(numPlayersSelect.value);
	               playerNames = [];
	               for (let i = 0; i < numPlayers; i++) {
	                   const nameField = document.getElementById(`p${i}NameField`);
	                   if (!nameField || nameField.value.trim() === '') {
	                       alertMessage(`ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼${i + 1}ã®åå‰ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚`);
	                       return;
	                   }
	                   playerNames.push(nameField.value.trim());
	               }
	               playerScores = new Array(numPlayers).fill(0);
	           } else if (gameMode === 'cpu') {
	               cpuLevel = cpuLevelSelect.value;
	               playerNames = ['ã‚ãªãŸ', `CPU (${cpuLevel})`];
	               playerScores = [0, 0]; // P1(0), CPU(1)
	           }
	           
	           // 2. ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ (å‹é”ãƒ¢ãƒ¼ãƒ‰ã§ã¯ãƒ©ã‚¦ãƒ³ãƒ‰æ•°ãŒäººæ•°Nã§å‰²ã‚Šåˆ‡ã‚Œã‚‹ã“ã¨ãŒæœ›ã¾ã—ã„ãŒã€å¿…é ˆã¨ã—ãªã„)
	           if (gameMode === 'friend' && totalRounds % numPlayers !== 0) {
	               // ã‚¢ãƒ©ãƒ¼ãƒˆã§ã¯ãªãè­¦å‘Š
	               console.warn("ãƒ©ã‚¦ãƒ³ãƒ‰æ•°ãŒãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼äººæ•°ã§å‰²ã‚Šåˆ‡ã‚Œãªã„ãŸã‚ã€ãƒ©ã‚¦ãƒ³ãƒ‰é€”ä¸­ã§ã‚²ãƒ¼ãƒ ãŒçµ‚äº†ã™ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚");
	           }
	           
	           // 3. ã‚²ãƒ¼ãƒ é–‹å§‹
	           roundSetterArea.classList.add('hidden');
	           mainGameArea.classList.remove('hidden');
	           finalResultArea.classList.add('hidden');
	           document.querySelector('.game-card').classList.remove('max-w-md'); 
	           
	           currentRound = 0;
	           
	           if (gameMode === 'cpu') {
	               startNextCPURound();
	           } else {
	               startNextFriendRound();
	           }
	       }
	       
	       // ------------------------------------
	       // --- å‹é”å¯¾æˆ¦ãƒ¢ãƒ¼ãƒ‰ã®ãƒ­ã‚¸ãƒƒã‚¯ ---
	       // ------------------------------------
	       
	       // 2äººä»¥ä¸Šã®ãƒ—ãƒ¬ã‚¤: æ¬¡ã®ãƒ©ã‚¦ãƒ³ãƒ‰ã‚’é–‹å§‹
	       function startNextFriendRound() {
	           currentRound++;
	           
	           if (currentRound > totalRounds) {
	               checkOverallWinner();
	               return;
	           }

	           // äººæ•°Nã«å¯¾å¿œã—ãŸãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼äº¤ä»£ãƒ­ã‚¸ãƒƒã‚¯ (ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ 0, 1, 2, ...)
	           
	           // äºˆæƒ³ã™ã‚‹ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ (0 ~ numPlayers - 1) ã¯é †ç•ªã«å›ã‚‹
	           guesserPlayer = (currentRound - 1) % numPlayers; 
	           
	           // è¨­å®šè€…(setter)ã¯ã€äºˆæƒ³è€…(guesser)ã®æ¬¡ã®äººã«ãªã‚‹ã‚ˆã†ã«èª¿æ•´ã€‚
	           // ã“ã‚Œã«ã‚ˆã‚Šã€ãƒ©ã‚¦ãƒ³ãƒ‰Nã§P0ãŒåˆã‚ã¦è¨­å®šè€…ã«ãªã‚‹ãƒ­ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã‚’å®Ÿç¾ã€‚
	           // R1: P0äºˆ -> P1è¨­, R2: P1äºˆ -> P2è¨­, ..., RN: P(N-1)äºˆ -> P0è¨­
	           setterPlayer = (guesserPlayer + 1) % numPlayers; 
	           
	           const setterName = playerNames[setterPlayer];
	           const guesserName = playerNames[guesserPlayer];

	           guessCount = 1;
	           targetNumber = null;

	           // UIã®åˆ‡ã‚Šæ›¿ãˆ
	           guessInputArea.classList.add('hidden');
	           secretSetterArea.classList.remove('hidden');
	           scoreDisplay.classList.remove('hidden');
	           resetArea.classList.add('hidden');
	           
	           gameTitleElement.textContent = `ğŸ¤ å¯¾æˆ¦ãƒ¢ãƒ¼ãƒ‰ (ãƒ©ã‚¦ãƒ³ãƒ‰ ${currentRound}/${totalRounds})`;
	           gameTitleElement.className = 'text-3xl font-extrabold text-white mb-4 text-center'; // ã‚²ãƒ¼ãƒ ä¸­ã®ã‚¿ã‚¤ãƒˆãƒ«ã‚¹ã‚¿ã‚¤ãƒ«
	           
	           lastResultElement.textContent = `${setterName}: ç§˜å¯†ã®æ•°å­—ï¼ˆ1-100ï¼‰ã‚’æ±ºã‚ã¦ã­`;
	           lowOrHiElement.textContent = `â€»${guesserName}ã«è¦‹ãˆãªã„ã‚ˆã†ã«å…¥åŠ›ï¼`;
	           guessesElement.textContent = 'å‰å›ã®äºˆæƒ³: ';
	           updateScoreDisplay();

	           setGameControls(true); // äºˆæƒ³ãƒœã‚¿ãƒ³ã¯ä½¿ãˆãªã„ã‚ˆã†ã«ã™ã‚‹
	           setSecretButton.disabled = false;
	           secretField.focus();
	       }
	       
	       // ------------------------------------
	       // --- CPUå¯¾æˆ¦ãƒ¢ãƒ¼ãƒ‰ã®ãƒ­ã‚¸ãƒƒã‚¯ ---
	       // ------------------------------------

	       // CPUãƒ—ãƒ¬ã‚¤: æ¬¡ã®ãƒ©ã‚¦ãƒ³ãƒ‰ã‚’é–‹å§‹
	       function startNextCPURound() {
	           currentRound++;
	           
	           if (currentRound > totalRounds) {
	               checkOverallWinner();
	               return;
	           }

	           guessCount = 1;
	           targetNumber = null;
	           
	           guessesElement.textContent = 'å‰å›ã®äºˆæƒ³: ';
	           scoreDisplay.classList.remove('hidden');
	           resetArea.classList.add('hidden');
	           
	           gameTitleElement.className = 'text-3xl font-extrabold text-white mb-4 text-center'; // ã‚²ãƒ¼ãƒ ä¸­ã®ã‚¿ã‚¤ãƒˆãƒ«ã‚¹ã‚¿ã‚¤ãƒ«


	           // ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹: P1(0), CPU(1)
	           const isUserGuesser = (currentRound % 2 !== 0); // å¥‡æ•°ãƒ©ã‚¦ãƒ³ãƒ‰: ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒäºˆæƒ³ (ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹0)

	           if (isUserGuesser) {
	               // å¥‡æ•°ãƒ©ã‚¦ãƒ³ãƒ‰: CPU(1)ãŒè¨­å®šã€ãƒ¦ãƒ¼ã‚¶ãƒ¼(0)ãŒäºˆæƒ³
	               setterPlayer = 1; // CPU
	               guesserPlayer = 0; // ãƒ¦ãƒ¼ã‚¶ãƒ¼
	               targetNumber = Math.floor(Math.random() * 100) + 1;
	               
	               secretSetterArea.classList.add('hidden'); 
	               guessInputArea.classList.remove('hidden');
	               
	               gameTitleElement.textContent = `ğŸ¤– CPUå¯¾æˆ¦ (R${currentRound}/${totalRounds}) - ${playerNames[0]}ã®ã‚¿ãƒ¼ãƒ³`;
	               lastResultElement.textContent = `${playerNames[1]}ã®ç§˜å¯†ã®æ•°å­—ã‚’å½“ã¦ã¦ã­ï¼`;
	               lowOrHiElement.textContent = `ç¾åœ¨ã®è©¦è¡Œå›æ•°: 1`; 
	               setGameControls(false); 
	               guessField.focus();
	               
	           } else {
	               // å¶æ•°ãƒ©ã‚¦ãƒ³ãƒ‰: ãƒ¦ãƒ¼ã‚¶ãƒ¼(0)ãŒè¨­å®šã€CPU(1)ãŒäºˆæƒ³
	               setterPlayer = 0; // ãƒ¦ãƒ¼ã‚¶ãƒ¼
	               guesserPlayer = 'CPU'; // CPUãŒäºˆæƒ³ã™ã‚‹ã¨ãã¯ç‰¹æ®Šãªå€¤'CPU'ã‚’ä½¿ç”¨
	               
	               guessInputArea.classList.add('hidden');
	               secretSetterArea.classList.remove('hidden');
	               
	               gameTitleElement.textContent = `ğŸ¤– CPUå¯¾æˆ¦ (R${currentRound}/${totalRounds}) - ${playerNames[1]}ã®ã‚¿ãƒ¼ãƒ³`;
	               lastResultElement.textContent = `${playerNames[0]}: ç§˜å¯†ã®æ•°å­—ï¼ˆ1-100ï¼‰ã‚’æ±ºã‚ã¦ã­`;
	               lowOrHiElement.textContent = `â€»${playerNames[1]}ã«å½“ã¦ã‚‰ã‚Œãªã„ã‚ˆã†ã«ã€æ…é‡ã«ï¼`;
	               setGameControls(true);
	               setSecretButton.disabled = false;
	               secretField.focus();
	           }
	           
	           updateScoreDisplay();
	       }

	       // ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ãŒç§˜å¯†ã®æ•°å­—ã‚’è¨­å®š (å…±é€š)
	       function setSecretNumber() {
	           const secret = Number(secretField.value);
	           
	           if (isNaN(secret) || secret < 1 || secret > 100) {
	               alertMessage('ç„¡åŠ¹ãªå…¥åŠ›ã§ã™ã€‚1ã‹ã‚‰100ã®æ•°å­—ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚');
	               return;
	           }

	           targetNumber = secret;
	           setSecretButton.disabled = true;
	           secretField.value = '';
	           
	           secretSetterArea.classList.add('hidden');
	           guessInputArea.classList.remove('hidden');
	           
	           // åå‰ã‚’å–å¾— (å‹é”ãƒ¢ãƒ¼ãƒ‰:ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã‹ã‚‰ã€CPUãƒ¢ãƒ¼ãƒ‰:é…åˆ—ã‹ã‚‰)
	           const setterName = (gameMode === 'cpu' && setterPlayer === 1) ? playerNames[1] : playerNames[setterPlayer];
	           const guesserName = (gameMode === 'cpu' && guesserPlayer === 'CPU') ? playerNames[1] : playerNames[guesserPlayer];

	           if (guesserPlayer !== 'CPU') {
	               // ãƒ¦ãƒ¼ã‚¶ãƒ¼ (ã¾ãŸã¯å‹é”) ãŒäºˆæƒ³ã™ã‚‹å ´åˆ
	               lastResultElement.textContent = `${guesserName}: ${setterName}ã®ç§˜å¯†ã®æ•°å­—ã‚’å½“ã¦ã¦ã­ï¼`;
	               lowOrHiElement.textContent = `ç¾åœ¨ã®è©¦è¡Œå›æ•°: 1`;
	               setGameControls(false);
	               guessField.focus();

	           } else {
	               // CPUãŒäºˆæƒ³ã™ã‚‹å ´åˆ
	               lastResultElement.textContent = `${guesserName}ãŒã‚ãªãŸã®ç§˜å¯†ã®æ•°å­—ã‚’äºˆæƒ³ã—ã¾ã™...`;
	               lowOrHiElement.textContent = `${guesserName}ã®äºˆæƒ³å›æ•°: 1`;
	               setGameControls(true);
	               
	               setTimeout(cpuGuess, 1000);
	           }
	       }
	       
	       // CPUã®äºˆæƒ³ãƒ­ã‚¸ãƒƒã‚¯
	       function cpuGuess() {
	           if (guessCount === 1) {
	               cpuGuessData.low = 1;
	               cpuGuessData.high = 100;
	               cpuGuessData.history = [];
	           }
	           
	           let cpuGuessValue;
	           const cpuName = playerNames[1];

	           if (cpuLevel === 'Pro') {
	               cpuGuessValue = Math.floor((cpuGuessData.low + cpuGuessData.high) / 2);
	           } else if (cpuLevel === 'Normal') {
	               if (cpuGuessData.low > cpuGuessData.high || cpuGuessData.high - cpuGuessData.low < 10) {
	                    cpuGuessValue = Math.floor((cpuGuessData.low + cpuGuessData.high) / 2);
	               } else {
	                   cpuGuessValue = Math.floor(Math.random() * (cpuGuessData.high - cpuGuessData.low + 1)) + cpuGuessData.low;
	               }
	           } else if (cpuLevel === 'Easy') {
	               cpuGuessValue = Math.floor(Math.random() * 100) + 1;
	           }
	           
	           cpuGuessData.history.push(cpuGuessValue);
	           guessesElement.textContent = 'å‰å›ã®äºˆæƒ³: ' + cpuGuessData.history.join(', ');
	           lowOrHiElement.textContent = `${cpuName}ã®äºˆæƒ³å›æ•°: ${guessCount}`;


	           let resultMessage;
	           let isFinished = false;

	           if (cpuGuessValue === targetNumber) {
	               resultMessage = `ğŸ¯ ${cpuName}ã®äºˆæƒ³: ${cpuGuessValue}ï¼æ­£è§£ã§ã™ï¼`;
	               isFinished = true;
	           } else if (cpuGuessValue < targetNumber) {
	               resultMessage = `â¬‡ï¸ ${cpuName}ã®äºˆæƒ³: ${cpuGuessValue}ã€‚ã‚‚ã£ã¨å¤§ãã„æ•°å­—ã§ã™ã­ã€‚`;
	               if (cpuLevel !== 'Easy') {
	                   cpuGuessData.low = cpuGuessValue + 1;
	               }
	           } else {
	               resultMessage = `â¬†ï¸ ${cpuName}ã®äºˆæƒ³: ${cpuGuessValue}ã€‚ã‚‚ã£ã¨å°ã•ã„æ•°å­—ã§ã™ã­ã€‚`;
	               if (cpuLevel !== 'Easy') {
	                   cpuGuessData.high = cpuGuessValue - 1;
	               }
	           }

	           lastResultElement.textContent = resultMessage;
	           
	           guessCount++;

	           if (isFinished) {
	               endRound('CPU', false);
	           } else {
	               setTimeout(cpuGuess, 1500);
	           }
	       }


	       // äºˆæƒ³ã®ãƒã‚§ãƒƒã‚¯ (ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒäºˆæƒ³ã™ã‚‹å ´åˆã®å…±é€šãƒ­ã‚¸ãƒƒã‚¯)
	       function checkGuess() {
	           if (targetNumber === null) return; 

	           const userGuess = Number(guessField.value);

	           if (isNaN(userGuess) || userGuess < 1 || userGuess > 100) {
	               alertMessage('ç„¡åŠ¹ãªå…¥åŠ›ã§ã™ã€‚1ã‹ã‚‰100ã®æ•°å­—ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚');
	               guessField.value = '';
	               guessField.focus();
	               return;
	           }

	           if (guessCount === 1) {
	               guessesElement.textContent = 'å‰å›ã®äºˆæƒ³: ';
	           }
	           guessesElement.textContent += userGuess + (userGuess !== targetNumber ? ', ' : '');

	           // åˆ¤å®šãƒ­ã‚¸ãƒƒã‚¯
	           if (userGuess === targetNumber) {
	               endRound(guesserPlayer, false);
	           } else {
	               lastResultElement.textContent = 'æ®‹å¿µã€é–“é•ã„ã§ã™ï¼';
	               lastResultElement.className = 'text-lg font-semibold mb-2 text-yellow-400';
	               
	               lowOrHiElement.textContent = `ç¾åœ¨ã®è©¦è¡Œå›æ•°: ${guessCount + 1}`;

	               if (userGuess < targetNumber) {
	                   lowOrHiElement.textContent += ' (ãƒ’ãƒ³ãƒˆ: ã‚‚ã£ã¨å¤§ãã„æ•°å­—ã§ã™)';
	               } else if (userGuess > targetNumber) {
	                   lowOrHiElement.textContent += ' (ãƒ’ãƒ³ãƒˆ: ã‚‚ã£ã¨å°ã•ã„æ•°å­—ã§ã™)';
	               }
	               
	               guessCount++;
	               guessField.focus();
	           }

	           guessField.value = '';
	       }

	       // ãƒ©ã‚¦ãƒ³ãƒ‰çµ‚äº†å‡¦ç† (å…±é€š)
	       function endRound(guesser, failed = false) {
	           const score = guessCount - 1; 

	           // ã‚¹ã‚³ã‚¢ã‚’è¨˜éŒ²
	           if (guesser === 'CPU') {
	               playerScores[1] += score; // CPUã¯å¸¸ã«ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹1
	           } else {
	               playerScores[guesser] += score; // guesserã¯ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ (0, 1, ...)
	           }

	           updateScoreDisplay();
	           setGameControls(true);

	           // ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤º (åå‰ã‚’ä½¿ç”¨)
	           const guesserName = guesser === 'CPU' ? playerNames[1] : playerNames[guesser];
	           
	           lastResultElement.textContent = `ğŸ‰ ãƒ©ã‚¦ãƒ³ãƒ‰${currentRound}çµ‚äº†ï¼ ${guesserName}ã¯ ${score}å›ã§æ­£è§£ï¼`;
	           lastResultElement.className = 'text-xl font-bold mb-2 text-green-400';
	           
	           lowOrHiElement.textContent = 'æ¬¡ã®ãƒ©ã‚¦ãƒ³ãƒ‰ã¸é€²ã‚€ã‹ã€å‹æ•—åˆ¤å®šã‚’è¡Œã„ã¾ã™ã€‚';
	           resetArea.classList.remove('hidden');
	           
	           const resetButton = document.getElementById('resetButton');
	           resetButton.replaceWith(resetButton.cloneNode(true));
	           
	           const nextRoundFunction = gameMode === 'cpu' ? startNextCPURound : startNextFriendRound;
	           const actionFunction = currentRound < totalRounds ? nextRoundFunction : checkOverallWinner;
	           
	           document.getElementById('resetButton').addEventListener('click', actionFunction);
	           resetButton.textContent = currentRound < totalRounds ? 'æ¬¡ã®ãƒ©ã‚¦ãƒ³ãƒ‰ã¸' : 'å‹æ•—åˆ¤å®šã¸';
	       }
	       
	       // ç·åˆçš„ãªå‹åˆ©åˆ¤å®š (å…±é€š)
	       function checkOverallWinner() {
	           setGameControls(true);
	           
	           resetArea.classList.add('hidden');
	           mainGameArea.classList.add('hidden');
	           
	           finalResultArea.classList.remove('hidden');
	           document.querySelector('.game-card').classList.remove('max-w-md');
	           document.querySelector('.game-card').classList.add('max-w-lg');

	           let titleText = `ğŸ‰ å…¨${totalRounds}ãƒ©ã‚¦ãƒ³ãƒ‰çµ‚äº†ï¼ ğŸ‰`;
	           let resultMessageText = "";
	           let scoreDetailsText = 'åˆè¨ˆè©¦è¡Œå›æ•°ãŒå°‘ãªã„æ–¹ãŒå‹åˆ©ã§ã™ã€‚<br/><br/>';
	           let messageClass = 'text-3xl font-extrabold text-white'; 

	           let minScore = Infinity;
	           let winnerNames = [];
	           
	           // ã‚¹ã‚³ã‚¢è©³ç´°ã®ãƒªã‚¹ãƒˆã‚¢ãƒƒãƒ—
	           playerScores.forEach((score, index) => {
	               const name = playerNames[index];
	               scoreDetailsText += `${name}: ${score}å›<br/>`;
	               
	               if (score < minScore) {
	                   minScore = score;
	                   winnerNames = [name];
	               } else if (score === minScore) {
	                   winnerNames.push(name);
	               }
	           });

	           // å‹æ•—ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
	           if (winnerNames.length === playerScores.length) {
	               resultMessageText = `ğŸ¤ å…¨å“¡ãŒåŒã˜ã‚¹ã‚³ã‚¢ï¼å®Œå…¨å¼•ãåˆ†ã‘ã§ã™ï¼ ğŸ¤`;
	               messageClass = 'text-3xl font-extrabold text-indigo-300';
	           } else if (winnerNames.length === 1) {
	               resultMessageText = `ğŸ† ${winnerNames[0]}ã®å®Œå…¨å‹åˆ©ï¼ ğŸ†`;
	               messageClass = 'text-4xl font-extrabold text-yellow-300 animate-win';
	           } else {
	               resultMessageText = `ğŸ¤ å¼•ãåˆ†ã‘ï¼å‹è€…ã¯ ${winnerNames.join(' ã¨ ')} ã§ã™ï¼ ğŸ¤`;
	               messageClass = 'text-3xl font-extrabold text-indigo-300';
	           }
	           
	           finalResultTitle.textContent = titleText;
	           finalResultMessage.innerHTML = resultMessageText;
	           finalResultMessage.className = messageClass;
	           finalScoreDetails.innerHTML = scoreDetailsText;

	           lowOrHiElement.textContent = 'å‹æ•—åˆ¤å®šå®Œäº†ã€‚'; 
	       }


	       // ã‚¹ã‚³ã‚¢è¡¨ç¤ºã‚’æ›´æ–° (å…±é€š)
	       function updateScoreDisplay() {
	           let scoreHtml = '';
	           
	           playerNames.forEach((name, index) => {
	               const score = playerScores[index];
	               const isGuesser = (gameMode === 'cpu' && index === 1 && guesserPlayer === 'CPU') || 
	                                 (guesserPlayer === index);
	                                 
	               scoreHtml += `<span class="${isGuesser ? 'text-pink-400' : 'text-gray-400'}">${name} åˆè¨ˆ: ${score}å›<\/span>`;
	           });

	           const setterName = (gameMode === 'cpu' && setterPlayer === 1) ? playerNames[1] : playerNames[setterPlayer];
	           const guesserName = (gameMode === 'cpu' && guesserPlayer === 'CPU') ? playerNames[1] : playerNames[guesserPlayer];

	           scoreDisplay.innerHTML = `
	               <div class="flex justify-around flex-wrap font-bold text-lg space-x-4">
	                   ${scoreHtml}
	               <\/div>
	               <p class="text-sm text-center mt-2 text-indigo-300">
	                   è¨­å®šè€…: ${setterName} / äºˆæƒ³è€…: ${guesserName}
	               <\/p>
	               <p class="text-sm text-center mt-1 text-white">
	                   ãƒ©ã‚¦ãƒ³ãƒ‰ ${currentRound}/${totalRounds}
	               <\/p>
	           `;
	       }
	       
	       // ã‚²ãƒ¼ãƒ çµ‚äº†å‡¦ç†ï¼ˆãƒœã‚¿ãƒ³ã®æœ‰åŠ¹åŒ–/ç„¡åŠ¹åŒ–ï¼‰
	       function setGameControls(isFinished) {
	           guessField.disabled = isFinished;
	           guessSubmitButton.disabled = isFinished;
	       }

	       // ã‚«ã‚¹ã‚¿ãƒ ã‚¢ãƒ©ãƒ¼ãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
	       function alertMessage(message) {
	           const messageBox = document.getElementById('customMessageBox');
	           const alertText = document.getElementById('alertText');
	           const overlay = document.getElementById('alertOverlay');
	           
	           alertText.textContent = message;
	           overlay.classList.remove('hidden');
	           messageBox.classList.remove('opacity-0', 'scale-95');
	           messageBox.classList.add('opacity-100', 'scale-100');
	       }

	       // ã‚«ã‚¹ã‚¿ãƒ ã‚¢ãƒ©ãƒ¼ãƒˆã‚’é–‰ã˜ã‚‹
	       function closeAlert() {
	           const messageBox = document.getElementById('customMessageBox');
	           const overlay = document.getElementById('alertOverlay');
	           
	           messageBox.classList.remove('opacity-100', 'scale-100');
	           messageBox.classList.add('opacity-0', 'scale-95');
	           overlay.classList.add('hidden');
	       }
	</script>
</head>

<body class="bg-[#1a1a2e]">
	<!-- ã‚«ã‚¹ã‚¿ãƒ ã‚¢ãƒ©ãƒ¼ãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãƒœãƒƒã‚¯ã‚¹ (alert()ã®ä»£ã‚ã‚Šã«åˆ©ç”¨) -->


	<div class="fixed inset-0 bg-black bg-opacity-70 flex justify-center items-center z-50 transition-opacity hidden" id="alertOverlay">
		<div class="bg-[#242740] p-6 rounded-xl shadow-2xl transition-all duration-300 opacity-0 scale-95 max-w-sm w-full border border-pink-500/50" id="customMessageBox">
			<p class="text-white mb-4 text-center text-lg font-medium" id="alertText">
			</p>
			<button class="w-full p-2 bg-pink-600 text-white font-bold rounded-lg transition duration-200 hover:bg-pink-700" onclick="closeAlert()">OK</button>
		</div>
	</div>
	<!-- ãƒ¡ã‚¤ãƒ³ã‚²ãƒ¼ãƒ ã‚³ãƒ³ãƒ†ãƒŠ -->


	<div class="game-card max-w-md w-full p-8 bg-[#242740] rounded-2xl shadow-2xl border border-indigo-700/50">
		<!-- ã‚¿ã‚¤ãƒˆãƒ« (ã‚¿ã‚¤ãƒˆãƒ«ç”»é¢ã§ã¯ç‰¹å¤§ã€ã‚²ãƒ¼ãƒ ä¸­ã¯é€šå¸¸ã‚µã‚¤ã‚ºã«JSã§åˆ‡ã‚Šæ›¿ãˆ) -->


		<h1 class="text-5xl font-extrabold text-yellow-300 mb-2 text-center transform scale-105" id="gameTitle">ğŸ”® æ•°å­—å½“ã¦ã‚²ãƒ¼ãƒ </h1>


		<p class="text-indigo-300 text-center text-lg mb-8" id="gameTagline">1ã‹ã‚‰100ã®é–“ã®æ•°ã‚’å½“ã¦ã‚ˆã†ã€‚è©¦è¡Œå›æ•°ç„¡åˆ¶é™ï¼</p>
		<!-- 1. ãƒ¢ãƒ¼ãƒ‰é¸æŠã‚¨ãƒªã‚¢ (ã‚¿ã‚¤ãƒˆãƒ«ç”»é¢é¢¨ã®åˆæœŸè¡¨ç¤º) -->


		<div class="space-y-6 pt-4 border-t border-indigo-500/50" id="modeSelectionArea">
			<h2 class="text-2xl font-bold text-center text-pink-200">ğŸ® ãƒ¢ãƒ¼ãƒ‰ã‚’é¸æŠ</h2>
			<button class="w-full p-5 bg-pink-600 text-white text-xl font-bold rounded-xl shadow-lg shadow-pink-500/50 transition duration-300 btn-primary" id="friendModeButton" type="button">ğŸ¤ ãŠå‹é”ã¨å¯¾æˆ¦ï¼ (2-4äºº)</button> <button class="w-full p-5 bg-indigo-600 text-white text-xl font-bold rounded-xl shadow-lg shadow-indigo-500/50 transition duration-300 btn-primary" id="cpuModeButton" type="button">ğŸ¤– CPUã¨å¯¾æˆ¦ï¼ (2äººå›ºå®š)</button>
		</div>
		<!-- 2. ãƒ©ã‚¦ãƒ³ãƒ‰æ•°/äººæ•°è¨­å®šã‚¨ãƒªã‚¢ (CPU/2äººãƒ—ãƒ¬ã‚¤é¸æŠå¾Œ) -->


		<div class="hidden space-y-4" id="roundSetterArea">
			<h2 class="text-xl font-bold text-center text-pink-200 mb-4">å¯¾æˆ¦è¨­å®š</h2>
			<!-- ãƒ©ã‚¦ãƒ³ãƒ‰æ•°é¸æŠ -->
			<label class="text-base font-medium text-pink-300" for="roundSelect">åˆè¨ˆãƒ©ã‚¦ãƒ³ãƒ‰æ•°ã‚’é¸æŠ:</label> <select class="p-3 w-full text-xl text-white bg-[#303450] border-2 border-pink-600 rounded-xl focus:border-pink-500 focus:ring-0 shadow-inner" id="roundSelect">
				<option value="">
					ãƒ©ã‚¦ãƒ³ãƒ‰ã‚’é¸æŠ
				</option>

				<option value="4">
					4 ãƒ©ã‚¦ãƒ³ãƒ‰
				</option>

				<option value="6">
					6 ãƒ©ã‚¦ãƒ³ãƒ‰
				</option>

				<option value="8">
					8 ãƒ©ã‚¦ãƒ³ãƒ‰
				</option>

				<option value="12">
					12 ãƒ©ã‚¦ãƒ³ãƒ‰
				</option>

				<option value="20">
					20 ãƒ©ã‚¦ãƒ³ãƒ‰
				</option>
			</select> <!-- å‹é”å¯¾æˆ¦ç”¨ã®ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼äººæ•°/åå‰è¨­å®šã‚¨ãƒªã‚¢ (æ–°è¨­) -->


			<div class="space-y-4 pt-4 border-t border-gray-700/50 hidden" id="friendPlayerSettings">
				<label class="text-base font-medium text-pink-300" for="numPlayersSelect">ğŸ® ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼äººæ•°ã‚’é¸æŠ:</label> <select class="p-3 w-full text-xl text-white bg-[#303450] border-2 border-pink-600 rounded-xl focus:border-pink-500 focus:ring-0 shadow-inner" id="numPlayersSelect">
					<option value="2">
						2äºº
					</option>

					<option value="3">
						3äºº
					</option>

					<option value="4">
						4äºº
					</option>
				</select> <label class="text-base font-medium text-pink-300 block text-center">ğŸ¤ ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼åã‚’è¨­å®š</label> <!-- åå‰å…¥åŠ›ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®ã‚³ãƒ³ãƒ†ãƒŠ -->


				<div class="space-y-3" id="friendNameInputContainer">
					<!-- JSã§å‹•çš„ã«ç”Ÿæˆã•ã‚Œã¾ã™ -->
				</div>
			</div>
			<!-- CPUãƒ¬ãƒ™ãƒ«é¸æŠã‚¨ãƒªã‚¢ (æ—¢å­˜) -->


			<div class="space-y-2 hidden pt-4 border-t border-gray-700/50" id="cpuLevelSelection">
				<label class="text-lg font-medium text-green-300" for="cpuLevelSelect">ğŸ¤– CPUã®é›£æ˜“åº¦ã‚’é¸æŠ:</label> <select class="p-3 w-full text-xl text-white bg-[#303450] border-2 border-green-600 rounded-xl focus:border-green-500 focus:ring-0 shadow-inner" id="cpuLevelSelect">
					<option value="Pro">
						Pro (ãƒ—ãƒ­) - æœ€é€Ÿ
					</option>

					<option value="Normal">
						Normal (æ™®é€š) - ç¯„å›²ã‚’çµã‚‹
					</option>

					<option value="Easy">
						Easy (åˆå¿ƒè€…) - å®Œå…¨ãƒ©ãƒ³ãƒ€ãƒ 
					</option>
				</select>
			</div>
			<button class="w-full p-3 bg-pink-600 text-white font-bold rounded-xl shadow-lg shadow-pink-500/50 transition duration-300 btn-primary" id="startFriendGameButton" type="button">ã‚²ãƒ¼ãƒ ã‚¹ã‚¿ãƒ¼ãƒˆï¼</button>

			<div class="text-center">
				<button class="text-sm text-indigo-400 hover:text-indigo-300 transition duration-200 mt-2" onclick="showModeSelection()">ãƒ¢ãƒ¼ãƒ‰é¸æŠã«æˆ»ã‚‹</button>
			</div>
		</div>
		<!-- 3. ãƒ¡ã‚¤ãƒ³ã‚²ãƒ¼ãƒ ã‚¨ãƒªã‚¢ (ãƒ©ã‚¦ãƒ³ãƒ‰è¨­å®šå¾Œã«è¡¨ç¤º) -->


		<div class="hidden" id="mainGameArea">
			<!-- ã‚¹ã‚³ã‚¢ã¨ãƒ©ã‚¦ãƒ³ãƒ‰ã®è¡¨ç¤º -->


			<div class="bg-[#303450] p-3 rounded-xl shadow-inner mb-4 hidden" id="scoreDisplay">
				<!-- ã‚¹ã‚³ã‚¢ã¯JavaScriptã§æ›´æ–°ã•ã‚Œã‚‹ -->
			</div>
			<!-- 3-1. ç§˜å¯†ã®æ•°å­—è¨­å®šã‚¨ãƒªã‚¢ (å¯¾æˆ¦ãƒ¢ãƒ¼ãƒ‰ P1/P2äº¤ä»£ã§åˆ©ç”¨) -->


			<div class="flex flex-col space-y-4 mb-6 hidden" id="secretSetterArea">
				<label class="text-lg font-medium text-indigo-200 text-center" for="secretField">ç§˜å¯†ã®æ•°å­— (1ã€œ100) ã‚’æ±ºã‚ã¦ã­</label> <input class="p-4 w-full text-3xl text-white bg-[#303450] border-2 border-pink-600 rounded-xl focus:border-pink-500 focus:ring-0 transition duration-300 shadow-inner" id="secretField" max="100" min="1" type="number"> <button class="p-3 bg-pink-600 text-white font-bold rounded-xl shadow-lg shadow-pink-500/50 transition duration-300 btn-primary" id="setSecretButton" type="button">æ•°å­—ã‚’æ±ºã‚ã‚‹</button>
			</div>
			<!-- 3-2. äºˆæƒ³å…¥åŠ›ã‚¨ãƒªã‚¢ -->


			<div class="flex flex-col space-y-4 mb-6 hidden" id="guessInputArea">
				<label class="text-lg font-medium text-indigo-200" for="guessField">ã‚ãªãŸã®äºˆæƒ³ (1ã€œ100):</label> <input class="p-3 w-full text-xl text-white bg-[#303450] border-2 border-indigo-600 rounded-xl focus:border-pink-500 focus:ring-0 transition duration-300 shadow-inner" id="guessField" max="100" min="1" type="number"> <button class="p-3 bg-indigo-600 text-white font-bold rounded-xl shadow-lg shadow-indigo-500/50 transition duration-300 btn-primary" id="guessSubmit" type="button">äºˆæƒ³ã‚’é€ä¿¡</button>
			</div>
			<!-- çµæœè¡¨ç¤ºã‚¨ãƒªã‚¢ -->


			<div class="bg-[#303450] p-4 rounded-xl shadow-inner space-y-3">
				<div class="text-center" id="messageArea">
					<p class="text-lg font-semibold mb-2 text-white" id="lastResult">ã•ã‚ã€äºˆæƒ³ã‚’å…¥åŠ›ã—ã¦ã­ï¼</p>


					<p class="text-base font-medium text-indigo-300" id="lowOrHi">ç¾åœ¨ã®è©¦è¡Œå›æ•°: 1</p>
				</div>


				<p class="text-sm text-gray-400 break-words" id="guesses">å‰å›ã®äºˆæƒ³:</p>
			</div>
			<!-- ãƒªã‚»ãƒƒãƒˆãƒœã‚¿ãƒ³ã‚¨ãƒªã‚¢ (ãƒ©ã‚¦ãƒ³ãƒ‰çµ‚äº†/ã‚²ãƒ¼ãƒ çµ‚äº†æ™‚ã«è¡¨ç¤º) -->


			<div class="mt-6 hidden text-center" id="resetArea">
				<button class="p-3 bg-pink-600 text-white font-bold rounded-xl shadow-lg shadow-pink-500/50 transition duration-300 btn-primary" id="resetButton" type="button">æ¬¡ã®ãƒ©ã‚¦ãƒ³ãƒ‰ã¸</button>
			</div>
		</div>
		<!-- #mainGameArea çµ‚äº† -->
		<!-- 4. æœ€çµ‚ãƒªã‚¶ãƒ«ãƒˆç”»é¢ã‚¨ãƒªã‚¢ (æ–°è¨­) -->


		<div class="hidden text-center p-8 bg-[#303450] rounded-2xl shadow-2xl border border-green-500/50 space-y-8 max-w-lg w-full" id="finalResultArea">
			<h2 class="text-4xl font-extrabold text-green-300" id="finalResultTitle">
			</h2>


			<div class="text-2xl font-bold text-yellow-300" id="finalResultMessage">
				<!-- å‹åˆ©ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒå…¥ã‚‹ -->
			</div>


			<div class="bg-[#242740] p-4 rounded-xl shadow-inner">
				<p class="text-lg text-indigo-300 mb-2">æœ€çµ‚åˆè¨ˆè©¦è¡Œå›æ•° (å°‘ãªã„æ–¹ãŒå‹åˆ©)</p>


				<p class="xl font-mono text-white leading-relaxed" id="finalScoreDetails"><!-- è©³ç´°ã‚¹ã‚³ã‚¢ãŒå…¥ã‚‹ -->
				</p>
			</div>
			<button class="w-full p-4 bg-indigo-600 text-white font-bold rounded-xl shadow-lg shadow-indigo-500/50 transition duration-300 btn-primary" id="finalResetButton" type="button">ãƒ¢ãƒ¼ãƒ‰é¸æŠã«æˆ»ã‚‹</button>
		</div>
	</div>
</body>
</html>
